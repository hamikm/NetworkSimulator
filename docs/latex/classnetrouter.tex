\hypertarget{classnetrouter}{\section{netrouter Class Reference}
\label{classnetrouter}\index{netrouter@{netrouter}}
}


Represents a router in a simple network.  




{\ttfamily \#include $<$network.\-h$>$}

Inheritance diagram for netrouter\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classnetrouter}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classnetrouter_a8ab7ff9ad09156e92ce58f229e158ce8}{netrouter} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\hyperlink{classnetrouter_aa489048e7f69c270c509033ad1987d2f}{netrouter} (string name)
\begin{DoxyCompactList}\small\item\em Sets name to the given one and nesting depth to 0. \end{DoxyCompactList}\item 
\hyperlink{classnetrouter_ab0da794c63d0b3e7a5335670eab80098}{netrouter} (string name, vector$<$ \hyperlink{classnetlink}{netlink} $\ast$ $>$ \hyperlink{classnetnode_af481c4109393b79170f523ca92bea507}{links})
\begin{DoxyCompactList}\small\item\em Sets name to the given one and the list of links attached to this router to the given one. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classnetrouter_a1fa1b2262b7427485b31b2d90477b6e7}{is\-Routing\-Node} () const 
\begin{DoxyCompactList}\small\item\em Returns true, since this is a router. \end{DoxyCompactList}\item 
map$<$ \hyperlink{classnetlink}{netlink} $\ast$, \hyperlink{classpacket}{packet} $>$ \hyperlink{classnetrouter_a997f1c4c9951bc1a8323896db58a22ea}{receive\-Packet} (double time, \hyperlink{classsimulation}{simulation} \&sim, \hyperlink{classnetflow}{netflow} \&flow, \hyperlink{classpacket}{packet} \&pkt)
\begin{DoxyCompactList}\small\item\em This function forwards it along the best link for it to get to its destination as determined by the routing table. \end{DoxyCompactList}\item 
void \hyperlink{classnetrouter_af6e40bf81506f250c6f638df89cdb1c2}{receive\-Routing\-Packet} (double time, \hyperlink{classsimulation}{simulation} \&sim, \hyperlink{classpacket}{packet} \&pkt, \hyperlink{classnetlink}{netlink} \&link)
\begin{DoxyCompactList}\small\item\em If this is a R\-O\-U\-T\-I\-N\-G packet, this function will update the router's routing table and distances table if necessary. \end{DoxyCompactList}\item 
map$<$ string, double $>$ \hyperlink{classnetrouter_a58bea34e24bde952a64af47713be636f}{get\-R\-Distances} () const 
\begin{DoxyCompactList}\small\item\em Getter for the node distances collection. \end{DoxyCompactList}\item 
void \hyperlink{classnetrouter_a1a5540f9e742b6d4938401bfa54a2d02}{initialize\-Tables} (map$<$ string, \hyperlink{classnethost}{nethost} $\ast$ $>$ host\-\_\-list, map$<$ string, \hyperlink{classnetrouter}{netrouter} $\ast$ $>$ router\-\_\-list)
\begin{DoxyCompactList}\small\item\em Called once at the beginning of the simulation, after parsing in an input file. \end{DoxyCompactList}\item 
void \hyperlink{classnetrouter_a87c029bb86c80acc8a5c2878835ef5a1}{reset\-Distances} (map$<$ string, \hyperlink{classnethost}{nethost} $\ast$ $>$ host\-\_\-list, map$<$ string, \hyperlink{classnetrouter}{netrouter} $\ast$ $>$ router\-\_\-list)
\begin{DoxyCompactList}\small\item\em Called from each \hyperlink{classrouter__discovery__event}{router\-\_\-discovery\-\_\-event} before recalculating distances. \end{DoxyCompactList}\item 
virtual void \hyperlink{classnetrouter_abdb4669cfddd028629f6abedc38a9427}{print\-Helper} (ostream \&os) const 
\begin{DoxyCompactList}\small\item\em Print helper function which partially overrides the one in {\ttfamily netdevice}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Represents a router in a simple network. 

The main difference from a {\ttfamily netnode} is that this object contains a routing table and a collection of distances to other nodes which is used to update the routing table. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classnetrouter_a8ab7ff9ad09156e92ce58f229e158ce8}{\index{netrouter@{netrouter}!netrouter@{netrouter}}
\index{netrouter@{netrouter}!netrouter@{netrouter}}
\subsubsection[{netrouter}]{\setlength{\rightskip}{0pt plus 5cm}netrouter\-::netrouter (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classnetrouter_a8ab7ff9ad09156e92ce58f229e158ce8}


Default constructor. 

Sets name to empty string and nesting depth to 0. \hypertarget{classnetrouter_aa489048e7f69c270c509033ad1987d2f}{\index{netrouter@{netrouter}!netrouter@{netrouter}}
\index{netrouter@{netrouter}!netrouter@{netrouter}}
\subsubsection[{netrouter}]{\setlength{\rightskip}{0pt plus 5cm}netrouter\-::netrouter (
\begin{DoxyParamCaption}
\item[{string}]{name}
\end{DoxyParamCaption}
)}}\label{classnetrouter_aa489048e7f69c270c509033ad1987d2f}


Sets name to the given one and nesting depth to 0. 


\begin{DoxyParams}{Parameters}
{\em name} & of this router \\
\hline
\end{DoxyParams}
\hypertarget{classnetrouter_ab0da794c63d0b3e7a5335670eab80098}{\index{netrouter@{netrouter}!netrouter@{netrouter}}
\index{netrouter@{netrouter}!netrouter@{netrouter}}
\subsubsection[{netrouter}]{\setlength{\rightskip}{0pt plus 5cm}netrouter\-::netrouter (
\begin{DoxyParamCaption}
\item[{string}]{name, }
\item[{vector$<$ {\bf netlink} $\ast$ $>$}]{links}
\end{DoxyParamCaption}
)}}\label{classnetrouter_ab0da794c63d0b3e7a5335670eab80098}


Sets name to the given one and the list of links attached to this router to the given one. 


\begin{DoxyParams}{Parameters}
{\em name} & of this router \\
\hline
{\em links} & list of pointers to links attached to this router to copy into this object's list of link pointers \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classnetrouter_a58bea34e24bde952a64af47713be636f}{\index{netrouter@{netrouter}!get\-R\-Distances@{get\-R\-Distances}}
\index{get\-R\-Distances@{get\-R\-Distances}!netrouter@{netrouter}}
\subsubsection[{get\-R\-Distances}]{\setlength{\rightskip}{0pt plus 5cm}map$<$ string, double $>$ netrouter\-::get\-R\-Distances (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classnetrouter_a58bea34e24bde952a64af47713be636f}


Getter for the node distances collection. 

\begin{DoxyReturn}{Returns}
collection of the distances of this router from all other nodes 
\end{DoxyReturn}
\hypertarget{classnetrouter_a1a5540f9e742b6d4938401bfa54a2d02}{\index{netrouter@{netrouter}!initialize\-Tables@{initialize\-Tables}}
\index{initialize\-Tables@{initialize\-Tables}!netrouter@{netrouter}}
\subsubsection[{initialize\-Tables}]{\setlength{\rightskip}{0pt plus 5cm}void netrouter\-::initialize\-Tables (
\begin{DoxyParamCaption}
\item[{map$<$ string, {\bf nethost} $\ast$ $>$}]{host\-\_\-list, }
\item[{map$<$ string, {\bf netrouter} $\ast$ $>$}]{router\-\_\-list}
\end{DoxyParamCaption}
)}}\label{classnetrouter_a1a5540f9e742b6d4938401bfa54a2d02}


Called once at the beginning of the simulation, after parsing in an input file. 

Sets distance to self and adjacent hosts to 0. Sets the correct link to adjacent hosts since each host has only one outgoing link. Sets other links to N\-U\-L\-L.


\begin{DoxyParams}{Parameters}
{\em host\-\_\-list} & list of all hosts \\
\hline
{\em router\-\_\-list} & list of all routers \\
\hline
\end{DoxyParams}
\hypertarget{classnetrouter_a1fa1b2262b7427485b31b2d90477b6e7}{\index{netrouter@{netrouter}!is\-Routing\-Node@{is\-Routing\-Node}}
\index{is\-Routing\-Node@{is\-Routing\-Node}!netrouter@{netrouter}}
\subsubsection[{is\-Routing\-Node}]{\setlength{\rightskip}{0pt plus 5cm}bool netrouter\-::is\-Routing\-Node (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classnetrouter_a1fa1b2262b7427485b31b2d90477b6e7}


Returns true, since this is a router. 

\begin{DoxyReturn}{Returns}
true 
\end{DoxyReturn}


Implements \hyperlink{classnetnode_a4a8b5169af7145506be0d31f6307908a}{netnode}.

\hypertarget{classnetrouter_abdb4669cfddd028629f6abedc38a9427}{\index{netrouter@{netrouter}!print\-Helper@{print\-Helper}}
\index{print\-Helper@{print\-Helper}!netrouter@{netrouter}}
\subsubsection[{print\-Helper}]{\setlength{\rightskip}{0pt plus 5cm}void netrouter\-::print\-Helper (
\begin{DoxyParamCaption}
\item[{ostream \&}]{os}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classnetrouter_abdb4669cfddd028629f6abedc38a9427}


Print helper function which partially overrides the one in {\ttfamily netdevice}. 


\begin{DoxyParams}{Parameters}
{\em os} & The output stream to which to write. \\
\hline
\end{DoxyParams}
\hypertarget{classnetrouter_a997f1c4c9951bc1a8323896db58a22ea}{\index{netrouter@{netrouter}!receive\-Packet@{receive\-Packet}}
\index{receive\-Packet@{receive\-Packet}!netrouter@{netrouter}}
\subsubsection[{receive\-Packet}]{\setlength{\rightskip}{0pt plus 5cm}map$<$ {\bf netlink} $\ast$, {\bf packet} $>$ netrouter\-::receive\-Packet (
\begin{DoxyParamCaption}
\item[{double}]{time, }
\item[{{\bf simulation} \&}]{sim, }
\item[{{\bf netflow} \&}]{flow, }
\item[{{\bf packet} \&}]{pkt}
\end{DoxyParamCaption}
)}}\label{classnetrouter_a997f1c4c9951bc1a8323896db58a22ea}


This function forwards it along the best link for it to get to its destination as determined by the routing table. 

Note that it's the caller's responsibility to generate the actual send\-\_\-packet\-\_\-events based on the returned map. 
\begin{DoxyParams}{Parameters}
{\em time} & of packet receipt \\
\hline
{\em sim} & \\
\hline
{\em flow} & parent flow, N\-U\-L\-L if R\-O\-U\-T\-I\-N\-G type \\
\hline
{\em pkt} & the arriving packet \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a map from the links to use to the corresponding packets 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
deprecated for use with R\-O\-U\-T\-I\-N\-G packets! Use {\ttfamily receive\-Routing\-Packet} instead. 
\end{DoxyWarning}
\hypertarget{classnetrouter_af6e40bf81506f250c6f638df89cdb1c2}{\index{netrouter@{netrouter}!receive\-Routing\-Packet@{receive\-Routing\-Packet}}
\index{receive\-Routing\-Packet@{receive\-Routing\-Packet}!netrouter@{netrouter}}
\subsubsection[{receive\-Routing\-Packet}]{\setlength{\rightskip}{0pt plus 5cm}void netrouter\-::receive\-Routing\-Packet (
\begin{DoxyParamCaption}
\item[{double}]{time, }
\item[{{\bf simulation} \&}]{sim, }
\item[{{\bf packet} \&}]{pkt, }
\item[{{\bf netlink} \&}]{link}
\end{DoxyParamCaption}
)}}\label{classnetrouter_af6e40bf81506f250c6f638df89cdb1c2}


If this is a R\-O\-U\-T\-I\-N\-G packet, this function will update the router's routing table and distances table if necessary. 

If an update is made, it will also trigger send\-\_\-packet\-\_\-events to deliver additional routing packets to its neighbors. 
\begin{DoxyParams}{Parameters}
{\em time} & of receipt of trigger packet \\
\hline
{\em sim} & \\
\hline
{\em pkt} & received \\
\hline
{\em link} & it was received on \\
\hline
\end{DoxyParams}
\hypertarget{classnetrouter_a87c029bb86c80acc8a5c2878835ef5a1}{\index{netrouter@{netrouter}!reset\-Distances@{reset\-Distances}}
\index{reset\-Distances@{reset\-Distances}!netrouter@{netrouter}}
\subsubsection[{reset\-Distances}]{\setlength{\rightskip}{0pt plus 5cm}void netrouter\-::reset\-Distances (
\begin{DoxyParamCaption}
\item[{map$<$ string, {\bf nethost} $\ast$ $>$}]{host\-\_\-list, }
\item[{map$<$ string, {\bf netrouter} $\ast$ $>$}]{router\-\_\-list}
\end{DoxyParamCaption}
)}}\label{classnetrouter_a87c029bb86c80acc8a5c2878835ef5a1}


Called from each \hyperlink{classrouter__discovery__event}{router\-\_\-discovery\-\_\-event} before recalculating distances. 

Sets distances to all other routers and nonadjacent hosts to infinity. 
\begin{DoxyParams}{Parameters}
{\em host\-\_\-list} & list of all hosts \\
\hline
{\em router\-\_\-list} & list of all routers \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
src/\hyperlink{network_8h}{network.\-h}\item 
src/network.\-cpp\end{DoxyCompactItemize}
